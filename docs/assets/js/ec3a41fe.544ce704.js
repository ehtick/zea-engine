"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[312],{3905:function(e,n,t){t.d(n,{Zo:function(){return l},kt:function(){return h}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),p=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},l=function(e){var n=p(e.components);return r.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),m=p(t),h=a,u=m["".concat(s,".").concat(h)]||m[h]||d[h]||o;return t?r.createElement(u,i(i({ref:n},l),{},{components:t})):r.createElement(u,i({ref:n},l))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var p=2;p<o;p++)i[p]=t[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6775:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return l},default:function(){return m}});var r=t(7462),a=t(3366),o=(t(7294),t(3905)),i=["components"],c={sidebar_position:1,title:"Using Zea Engine with React"},s="Using Zea Engine with React",p={unversionedId:"Tutorials/react/react",id:"Tutorials/react/react",isDocsHomePage:!1,title:"Using Zea Engine with React",description:"This tutorial covers the integration and use of React with Zea Engine.",source:"@site/docs/Tutorials/react/react.md",sourceDirName:"Tutorials/react",slug:"/Tutorials/react/react",permalink:"/zea-engine/Tutorials/react/react",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Using Zea Engine with React"},sidebar:"tutorialSidebar",previous:{title:"Changing the Background Color",permalink:"/zea-engine/Tutorials/changing-the-background"},next:{title:"Setting up a layout component in React",permalink:"/zea-engine/Tutorials/react/layout"}},l=[{value:"Creating a React project with Typescript",id:"creating-a-react-project-with-typescript",children:[{value:"React Dependencies",id:"react-dependencies",children:[]}]},{value:"React Components",id:"react-components",children:[{value:"Main.tsx",id:"maintsx",children:[]},{value:"Viewport3D.tsx",id:"viewport3dtsx",children:[]},{value:"App.tsx",id:"apptsx",children:[]},{value:"App.css",id:"appcss",children:[]}]},{value:"Displaying a grid",id:"displaying-a-grid",children:[{value:"Viewport3D.tsx",id:"viewport3dtsx-1",children:[]}]},{value:"Adding geometry to our scene",id:"adding-geometry-to-our-scene",children:[]},{value:"Result",id:"result",children:[]},{value:"Conclusion",id:"conclusion",children:[]}],d={toc:l};function m(e){var n=e.components,c=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},d,c,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"using-zea-engine-with-react"},"Using Zea Engine with React"),(0,o.kt)("p",null,"This tutorial covers the integration and use of React with Zea Engine.\n",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React")," is a popular client side library for building web applications. We can use React to build the UI for a Zea Engine app. "),(0,o.kt)("h2",{id:"creating-a-react-project-with-typescript"},"Creating a React project with Typescript"),(0,o.kt)("p",null,"Use the following command to create a new project."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"yarn create react-app my-app --template typescript\n")),(0,o.kt)("h3",{id:"react-dependencies"},"React Dependencies"),(0,o.kt)("p",null,"First, we should add Zea Engine to our project. We can do this with the following command."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @zeainc/zea-engine\n")),(0,o.kt)("h2",{id:"react-components"},"React Components"),(0,o.kt)("p",null,"In React, a component is a class that extends React.Component and consists of a ",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/react-component.html#render"},"render"),"() method, which returns the React elements to be rendered; these elements are written in ",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/introducing-jsx.html"},"JSX/TSX"),". A component can also have an optional constructor, custom methods, or lifecycle methods like componentDidMount, componentDidUpdate, which are both used in this tutorial. "),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"View ",(0,o.kt)("a",{parentName:"p",href:"https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/"},"react-lifecycle-methods-diagram")," to learn about the variety of methods that React calls and the order in which those methods execute."))),(0,o.kt)("h3",{id:"maintsx"},"Main.tsx"),(0,o.kt)("p",null,"Create a file Main.tsx in a new directory src/components/ and copy the contents below into the newly created file.\nIn this component, we will compose the tree view and renderer within the layout component to set up our screen."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import React from "react";\nimport { Viewport3D } from "./Viewport3D";\n\nclass Main extends React.Component<any, any> {\n  constructor(props: any) {\n    super(props)\n    this.state = { \n      // example: props.example\n    }\n  }\n\n  render() {\n    return (\n      <Viewport3D></Viewport3D>\n    )\n  }\n}\n\nexport { Main }\n')),(0,o.kt)("h3",{id:"viewport3dtsx"},"Viewport3D.tsx"),(0,o.kt)("p",null,"Create a file Viewport3D.tsx in a new directory src/components/ and copy the contents below into the newly created file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import React from "react";\n\nclass Viewport3D extends React.Component<any, any> {\n  canvasRef: React.RefObject<any>\n  constructor(props: any) {\n    super(props);\n    this.state = {};\n    this.canvasRef = React.createRef()\n  }\n\n  // this method is called when the component is initially mounted and initially renders.\n  componentDidMount() {}\n\n  // this method is called the \'props\' of the component are changed.\n  componentDidUpdate(prevProps: any) {}\n\n  // The Viewport3D component needs a reference to the canvas in order to initialize.\n  render() {\n    return (\n      <canvas\n        ref={this.canvasRef}\n        className="screen"\n        id="canvas"\n        width="500px"\n        height="500px"\n      />\n    );\n  }\n}\n\nexport { Viewport3D };\n')),(0,o.kt)("h3",{id:"apptsx"},"App.tsx"),(0,o.kt)("p",null,"Overwrite the existing contents of App.tsx with the code below"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import React from "react";\nimport "./App.css";\nimport { Main } from "./components/Main";\n\nfunction App() {\n  return <Main></Main>;\n}\n\nexport default App;\n\n')),(0,o.kt)("p",null,"This code simply imports our newly created Main.tsx component and renders it."),(0,o.kt)("h3",{id:"appcss"},"App.css"),(0,o.kt)("p",null,"To give our components custom styling, replace the contents of App.css with the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-css"},"html,\nbody,\n#root {\n  height: 100%;\n  width: 100%;\n}\n\n.App {\n  font-family: sans-serif;\n  text-align: center;\n  display: flex;\n  height: 100%;\n  width: 100%;\n}\n\n.App__bar {\n  height: 100%;\n  width: 5rem;\n  background: blue;\n  cursor: pointer;\n}\n\n.App__content {\n  height: 100%;\n  width: calc(100% - 5rem);\n}\n\n.screen {\n  display: flex;\n}\n")),(0,o.kt)("p",null,"Now that we have our basic setup, we can now look to render a basic scene. "),(0,o.kt)("h2",{id:"displaying-a-grid"},"Displaying a grid"),(0,o.kt)("h3",{id:"viewport3dtsx-1"},"Viewport3D.tsx"),(0,o.kt)("p",null,"Going back to Viewport3D.tsx, to display a simple scene, we just need to import Scene and GLRenderer classes from \"@zeainc/zea-engine\"\nthen add member variables 'scene' and 'renderer'"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import {\n  Scene,\n  GLRenderer,\n  Vec3,\n  Material,\n  Sphere,\n  GeomItem,\n  Color,\n  Xfo,\n  TreeItem,\n} from "@zeainc/zea-engine";\n\nclass Viewport3D extends React.Component<any, any> {\n  scene: Scene = new Scene();\n  renderer?: GLRenderer;\n  canvasRef: React.RefObject<any>\n\n')),(0,o.kt)("p",null,"Along with adding the dependencies and member variables, we will want to initialize the renderer once the HTMLCanvas element is loaded. We can do this by initializing the\nrenderer in componentDidMount(), which waits for the canvas to load. In the render() method, we see that the Canvas hook is used/rendered."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"  // this method is called when the component is initially mounted and initially renders.\n  componentDidMount() {\n    this.renderer = new GLRenderer(this.canvasRef.current);\n    this.renderer.setupScene(this.scene);\n\n    // The parameters for setupGrid are gridSize, the size of the grid\n    // and the resolution, or the number of divisions in the grid.\n    this.scene.setupGrid(10, 10);\n\n    const camera = this.renderer.getViewport().getCamera();\n    camera.setPositionAndTarget(new Vec3(6, 6, 5), new Vec3(0, 0, 1.5));\n  }\n\n")),(0,o.kt)("p",null,"With this change, we should now see a basic scene rendered once the command yarn start is used."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd my-app\nyarn start\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"screen",src:t(1922).Z})),(0,o.kt)("h2",{id:"adding-geometry-to-our-scene"},"Adding geometry to our scene"),(0,o.kt)("p",null,"The following method setupScene() simply adds several spheres to our scene in a hierarchy. We can add this method to Viewport3D.tsx."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"  setupScene() {\n    const material = new Material('surfaces', 'SimpleSurfaceShader')\n    material.getParameter('BaseColor')?.setValue(new Color(0.5, 0.5, 0.5))\n    const sphere = new Sphere(1.0, 20, 20)\n\n    const createSphere = (name: string, position: Vec3) => {\n      const geomItem = new GeomItem(name, sphere, material, new Xfo(position))\n      return geomItem\n    }\n    \n    const geomItem0 = createSphere('sphere0', new Vec3(0, 0, 0))\n    const geomItem1 = createSphere('sphere1', new Vec3(0, 5, 0))\n    const geomItem2 = createSphere('sphere2', new Vec3(0, -5, 0))\n    const geomItem3 = createSphere('sphere3', new Vec3(5, 0, 0))\n    const geomItem4 = createSphere('sphere5', new Vec3(-5, 0, 0))\n\n    // Add geometry to the SceneTree and also create a hierarchy of geometry by parenting geometry.\n    this.scene.getRoot().addChild(geomItem0)\n    this.scene.getRoot().addChild(geomItem1)\n    geomItem1.addChild(geomItem2)\n    geomItem2.addChild(geomItem3)\n    geomItem2.addChild(geomItem4)\n  }\n")),(0,o.kt)("p",null,"After adding this as a method to the Viewport3D component, we can call this method after initializing the scene in the componentDidMount() method."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"  componentDidMount() {\n    // ...\n    this.setupScene()\n  }\n")),(0,o.kt)("h2",{id:"result"},"Result"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"screen",src:t(8526).Z})),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"You should now be able to use Zea Engine with React.\nFuture tutorials will cover how to manage the layout of your UI and how to work with a third-party tree view."))}m.isMDXComponent=!0},1922:function(e,n){n.Z="data:image/png;base64,dmVyc2lvbiBodHRwczovL2dpdC1sZnMuZ2l0aHViLmNvbS9zcGVjL3YxDQpvaWQgc2hhMjU2OmE3MzU4OTVmYzI0ODllZjQwM2MwM2RkZGMwMTljYjk2N2NkY2QzMzNmYWJiMjE2ZWZlOGYzZjQzZDI2ODc5OWINCnNpemUgNDIzODMNCg=="},8526:function(e,n){n.Z="data:image/png;base64,dmVyc2lvbiBodHRwczovL2dpdC1sZnMuZ2l0aHViLmNvbS9zcGVjL3YxDQpvaWQgc2hhMjU2OjdjMmU4OWVlZTYwYjU5MTQyYjUxN2Y2NjQxNjJiOTVjYjE3NzE3ZTQzZTE1MWIzNzJkZmQxODcxZmEwYTYwYjENCnNpemUgMTA3OTU2DQo="}}]);