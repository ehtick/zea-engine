<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Test Lines Rendering</title>
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    </head>
    <body text-align: left;>


        <script src="../external/jquery-1.12.4.min.js"></script>
        <script src="../external/dat.gui.js"></script>
        <script src="../external/stats.min.js"></script>
        <script src="../external/helpers.js"></script>
        <script src="../lib/Visualive-0.0.5.js"></script>

        <script type="text/javascript">


let TestRenderLines = function() {

    let lines = new Visualive.Lines('lines', 1);
    lines.setNumVertices(3);
    lines.getVertex(0).set(-1, -1, 0.0);
    lines.getVertex(1).set( 3, -1, 0.0);
    lines.getVertex(2).set(-1, 3, 0.0);
    lines.setNumSegments(3);
    lines.setSegment(0,0,1);
    lines.setSegment(1,1,2);
    lines.setSegment(2,2,0);

    lines.lineThickness = 0.1;

    let material = new Visualive.FatLinesMaterial();
    let geomItem = new Visualive.GeomItem('geomItem', lines, material);
    let scene = new Visualive.Scene();
    scene.getRoot().addChild(geomItem);

    let renderer = new Visualive.GLSimpleRenderer(addCanvas(350, 256));
    renderer.getViewport().getCamera().setPositionAndTarget(new Visualive.Vec3(1.0, 4.0, 3.0), new Visualive.Vec3(0.0, 1.5, 0.0));
    renderer.setScene(scene);
    renderer.resumeDrawing();
}

let TestRenderCircle = function() {

    let lines = new Visualive.Circle('lines', 2.0, 48);
    lines.lineThickness = 0.1;

    let lineThickness = lines.addVertexAttribute('lineThickness', Visualive.Float32);
    for(let i=0; i<lineThickness.length; i++)
        lineThickness.setFloat32Value(i, i/lineThickness.length);

    let material = new Visualive.FatLinesMaterial();
    let geomItem = new Visualive.GeomItem('geomItem', lines, material);
    let scene = new Visualive.Scene();
    scene.getRoot().addChild(geomItem);

    let renderer = new Visualive.GLSimpleRenderer(addCanvas(350, 256));
    renderer.getViewport().getCamera().setPositionAndTarget(new Visualive.Vec3(1.0, 4.0, 3.0), new Visualive.Vec3(0.0, 0.0, 0.0));
    renderer.setScene(scene);
    renderer.resumeDrawing();
}

TestRenderLines();
TestRenderCircle();

        </script> 
        <br>
    </body>
</html>
